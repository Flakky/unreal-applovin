<?xml version="1.0" encoding="utf-8"?>
<root xmlns:android="http://schemas.android.com/apk/res/android">
	<init>
		<log text="AppLovin Initialization"/>
	</init>

	<androidManifestUpdates>		
		<addElements tag="application">
			<meta-data android:name="applovin.sdk.key" android:value="YOUR_APPLOVIN_SDK_KEY_HERE"/>
			
			<meta-data android:name="applovin.sdk.verbose_logging" android:value="true"/>
			
			<!-- AdMob -->
			<meta-data android:name="com.google.android.gms.ads.APPLICATION_ID" android:value="YOUR_ADMOB_APP_ID_HERE"/>
        </addElements>

        <addAttribute tag="application" name="android:networkSecurityConfig" value="@xml/network_security_config"/>
		
		
            
        </androidManifestUpdates>

	<buildscriptGradleAdditions>
		<insert>
			repositories {
				maven { url 'https://artifacts.applovin.com/android' }
			}
			dependencies {
				classpath "com.applovin.quality:AppLovinQualityServiceGradlePlugin:3.+"
			}
		</insert>
	</buildscriptGradleAdditions>
    
	<buildGradleAdditions>
            <!-- AppLovin SDK -->
		<insert>
			repositories {
				google()
				mavenCentral()
			}
			dependencies {
				implementation 'com.applovin:applovin-sdk:11.4.4'
			}
			
		</insert>
		<!-- Networks integrations -->
		<!-- Facebook -->
		<insert>
			dependencies {
				implementation 'com.applovin.mediation:facebook-adapter:6.12.0.0'
			}
		</insert>
		<!-- AdMob -->
		<insert>
			dependencies {
				implementation 'com.applovin.mediation:google-adapter:21.3.0.2'
			}
		</insert>
		<!-- AdColony -->
		<insert>
			dependencies {
				implementation 'com.applovin.mediation:adcolony-adapter:4.8.0.2'
			}
		</insert>
		<!-- Fyber -->
		<insert>
			dependencies {
				implementation 'com.applovin.mediation:fyber-adapter:8.2.1.0'
			}
		</insert>
		<!-- UnityAds -->
		<insert>
			dependencies {
				implementation 'com.applovin.mediation:unityads-adapter:4.4.1.0'
			}
		</insert>
		<!-- Ironsource -->
		<insert>
			repositories {
				maven { url "https://android-sdk.is.com" }
			}
			dependencies {
				implementation 'com.applovin.mediation:ironsource-adapter:7.2.5.0.1'
			}
		</insert>
		<!-- InMoby -->
		<insert>
			android {
				compileOptions {
					sourceCompatibility 1.8
					targetCompatibility 1.8
				}
			}
			dependencies {
				implementation 'com.applovin.mediation:inmobi-adapter:10.1.2.0'
			}
		</insert>
		<!-- Mintegral -->
		<insert>
			repositories {
				maven { url "https://dl-maven-android.mintegral.com/repository/mbridge_android_sdk_oversea" }
			}
			dependencies {
				implementation 'com.applovin.mediation:mintegral-adapter:16.2.61.1'
			}
		</insert>
		<!-- Pangle (Bytedance) -->
		<insert>
			repositories {
				maven { url "https://artifact.bytedance.com/repository/pangle" }
			}
			dependencies {
				implementation 'com.applovin.mediation:bytedance-adapter:4.8.0.8.1'
			}
		</insert>
		<!-- Smaato -->
		<insert>
			repositories {
				maven { url "https://s3.amazonaws.com/smaato-sdk-releases/" }
			}
			dependencies {
				implementation 'com.applovin.mediation:smaato-adapter:21.8.5.0'
			}
		</insert>
		<!-- TapJoy -->
		<insert>
			repositories {
				maven { url "https://sdk.tapjoy.com" }
			}
			dependencies {
				implementation 'com.applovin.mediation:tapjoy-adapter:12.11.0.0'
			}
		</insert>
		<!-- Vungle -->
		<insert>
			dependencies {
				implementation 'com.applovin.mediation:vungle-adapter:6.12.0.3'
			}
		</insert>
                
	</buildGradleAdditions>

	<prebuildCopies>
				<copyDir src="$S(PluginDir)/External/Android/Integration" dst="$S(BuildDir)/src"/>
				<copyDir src="$S(PluginDir)/External/Android/Security" dst="$S(BuildDir)/res/xml"/>
	</prebuildCopies>


	<proguardAdditions>
		<insert>
			-dontwarn com.applovin.**
			-keep class com.applovin.** { *; }
			-keep class com.google.android.gms.ads.identifier.** { *; }
		</insert>
	</proguardAdditions>
    
	<gameActivityImportAdditions>
				<insert>
					<![CDATA[
						import com.applovin.unreal.UnrealAppLovin;
					]]>
				</insert>
	</gameActivityImportAdditions>

	<gameActivityOnCreateAdditions>
		<insert>
			<![CDATA[
				UnrealAppLovin.init(this);
			]]>
		</insert>
	</gameActivityOnCreateAdditions>

</root>
